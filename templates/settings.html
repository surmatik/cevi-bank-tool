{% extends "layout.html" %}

{% block content %}
    <h2>Zinssatzbereich festlegen</h2>
    <form id="interest_form">
        <label for="min_rate">Min Zinssatz (%):</label>
        <input type="number" step="0.01" id="min_rate" value="{{ min_rate }}" placeholder="Min Zinssatz">
        
        <label for="max_rate">Max Zinssatz (%):</label>
        <input type="number" step="0.01" id="max_rate" value="{{ max_rate }}" placeholder="Max Zinssatz">
        
        <button type="submit">Zinssatz aktualisieren</button>
    </form>

    <script>
        // Funktion zum Festlegen des Zinssatzbereichs
        document.getElementById('interest_form').onsubmit = function(event) {
            event.preventDefault();
            const minRate = document.getElementById('min_rate').value;
            const maxRate = document.getElementById('max_rate').value;

            fetch('/settings', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: `min_rate=${minRate}&max_rate=${maxRate}`
            })
            .then(response => response.json())
            .then(data => alert(data.message));
        };
    </script>
{% endblock %}
